The database is a mongodb instance run at localhost:27018.

It contains a number of collections which represent objects manipulated in the app. The abstraction of database storage is contained in src/backend.py in which each collection is represented by a python object.

comments
--------

_id: unique id generated by mongodb
user_id: id of user who made the comment
video_id: id of the video this comment is for
text: text of the comment
parent_id: null (reserved for future use, for tree-structured comments)
date: timestamp of comment

friends
-------

_id: unique id generated by mongodb
pair: symetric id for the pair of users (same for A -> B and B -> A)
user_id: user who initiated the friendship
other_id: other user who received the friendship
state: status of relationship, can be 'requested' or 'accepted'
date: date of first friend request

history
-------

_id: unique id generated by mongodb
user_id: user who's event has been logged
date: date of event
type: type of history event (query: submitted a query, watch: watched a video...
data: structured data associated with the event (depends on type)

notifications
-------------

_id: unique id generated by mongodb
user_id: user who is being notified
date: date of notification
type: type of notification (shared content, friend request...)
data: structured data associated with the notification (depends on type) 
new: whether the user has clicked the notification

playlists
---------

_id: unique id generated by mongodb
user_id: user owning the playlist
type: playlist
name: display name of playlist

_id: unique id generated by mongodb
user_id: user owning the item
type: video
folder_id: id of playlist containing the video
video_id: id of the video

shares
------

_id: unique id generated by mongodb
date: when was the video shared
owner_id: user who initiated the share
recipient_id: user who is being shared with
comment_id: id of comment being shared
video_id: id of video being shared

users
-----

_id: unique id generated by mongodb
email: textual identifier for user (is not checked to be a valid email)
password: hashed password
name: screen name
picture: url of user picture 

videos
------

_id: unique id generated by mongodb
video_id: youtube-issued video id (can be watched with https://www.youtube.com/watch?v=<id>)
title: video title from youtube
thumbnail: url to video thumbnail


